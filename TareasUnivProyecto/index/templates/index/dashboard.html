{% extends 'index/base.html' %}
{% load static %}
{% block content %}
{% load templates %}


<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    <script src="{% static 'js/dashboard.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.8.0/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0/dist/chartjs-plugin-datalabels.min.js"></script>  
    
</head>

<div class="contenedor-tareas">


    {% for curso in cursosDisponibles %}
    <div class="contenedor-contenedores-graficas" >
        <div class="titulo-graficas"><h2><strong>{{curso}}</strong></h2></div>
        
        <div class="contenedor-graficas">
            <div class="contenedor-graficaLineal">
                
                <canvas id="grafica-{{curso}}" class="graficoLineal" ></canvas>
                <script> crearLinea('{{curso}}') </script>
    
            </div>
            <div class="conjunto-de-graficas">
                <div class="grafico-circular">
                    <canvas id="grafica-circular-{{curso}}" max-width="80%" max-height="200px"></canvas>
                    <div class="leyenda">
                        <div class="contenedor-leyenda">
                            <div class="icon-leyenda verde"></div><p id="texto-circular-verde-{{curso}}"></p>
                        </div>    
                        <div class="contenedor-leyenda">
                            <div class="icon-leyenda rojo"></div><p id="texto-circular-rojo-{{curso}}"></p>
                        </div>
                        <div class="contenedor-leyenda">
                            <div class="icon-leyenda amarillo"></div><p id="texto-circular-amarillo-{{curso}}"></p>
                        </div>
                    </div>
                    <script> crearDonut('{{curso}}', '{% obtenerValoresDeCalificacion request curso %}') </script>
                </div> 
                <div class="grafico-circular">
                    <canvas id="grafica-circular2-{{curso}}" max-width="80%" max-height="200px"></canvas>
                    <div class="subtitulo-circular"><p id="texto-circular-{{curso}}">20%</p></div>
                    <script> crearDonutProgreso('{{curso}}', '{% obtenerProgreso request curso %}') </script>
                </div>  

            </div>

        </div>
        
        
    </div>  
    {% endfor %}

</div>

{% endblock %}